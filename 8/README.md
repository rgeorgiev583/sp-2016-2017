# `pipe(2)`

Това системно извикване се използва за създаването на *IPC* канал (*pipe*) между два процеса.


## Синтаксис

		#include <unistd.h>

		int pipe(int fd[2]);


## Семантика

Функцията `pipe` създава канал за междупроцесна комуникация.  Той може да се интерпретира от двата процеса като специален вид файл, в който единият процес може да само да пише, а другият - само да чете от него.  Идеята е, че каквото запише единият процес в канала посредством `write`, ще бъде прочетено от другия процес посредством `read`.
При изчерпване на данните за четене от страна на четящия процес той се блокира в системното извикване `read`, докато не бъдат записани нови данни от пишещия процес.  При завършване на пишещия процес преди четящия, `read` приключва успешно в четящия процес.  При завършване на четящия процес преди пишещия, на пишещия процес се изпраща сигнал `SIGPIPE`, и той завършва изпълнението си с грешка (тъй като няма на кого да пише).
Аргументът `fd` е двуелементен масив, на който двата аргумента са файлови дескриптори.  Първият аргумент се използва за достъп до четящия край на канала, а вторият - за достъп до пишещия край.
Функцията `pipe` връща стойност `0` при успешно изпълнение на операцията или `-1` в противен случай.
Функцията `pipe` може да се използва за реализацията на механизма за пренасочване на изход към програм `|` в командните интерпретатори.


# Задачи

Да се реализират следните команди чрез канали между съответните процеси (`argv[i]` е *i*-тият команден аргумент, а `argv[i..]` са всички командни аргументи от *i* натам):

1. `who | wc -l`
2. `ls | wc -l`
3. `grep argv[1] argv[2..] | wc -l`
4. `head argv[1] argv[3..] | grep argv[2] | wc -l`
5. `grep argv[1..] | sort | uniq | wc -l`
6. `argv[1] | argv[2] | argv[3] | ... | argv[N]`
7. `argv[1] argv[2] | argv[3] argv[4] | ... argv[N-1] argv[N]`
